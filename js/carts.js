"use strict";var top01=document.getElementById("top01"),topright=top01.children[0].children[1],liS=topright.children[0].children;liS[0].onmouseover=function(){var t=this.style.background;this.style.background="#ffffff";var e=this.children[1];e.style.display="block",liS[0].onmouseout=function(){this.style.background=t,e.style.display="none"}},liS[2].onmouseover=function(){var t=this.style.background;this.style.background="#ffffff";var e=this.children[1];e.style.display="block",liS[2].onmouseout=function(){this.style.background=t,e.style.display="none"}},liS[4].onmouseover=function(){var t=this.children[1];t.style.display="block",liS[4].onmouseout=function(){t.style.display="none"}},liS[6].onmouseover=function(){var t=this.style.background;this.style.background="#ffffff";var e=this.children[1];e.style.display="block",liS[6].onmouseout=function(){this.style.background=t,e.style.display="none"}},liS[7].onmouseover=function(){var t=this.children[1];t.style.display="block",liS[7].onmouseout=function(){t.style.display="none"}},$(function(){$(".smallimg").mouseover(function(){$("#mask").css({display:"block"}),$(".bigimg").css({display:"block"})}).mouseout(function(){$("#mask").css({display:"none"}),$(".bigimg").css({display:"none"})}),$(".smallimg").mousemove(function(t){(t=window.event||t).target||t.srcElement;var e=t.clientX-$(".smallimg").offset().left-$("#mask").width()/2,o=t.clientY+$(window).scrollTop()-$(".smallimg").offset().top-$("#mask").height()/2;e<0&&(e=0),o<0&&(o=0),e>$(".smallimg").width()-$("#mask").width()&&(e=$(".smallimg").width()-$("#mask").width()),o>$(".smallimg").height()-$("#mask").height()&&(o=$(".smallimg").height()-$("#mask").height()),$("#mask").css({left:e,top:o}),$(".imgb").css({left:-2*e,top:-2*o})})});var data=sessionStorage.getItem("mouse"),mouse=JSON.parse(data);function nums(){var t=$("num").text(),e=Number(t);$(".next").click(function(){e++,$(".num").html(e)}),$(".prev").click(function(){--e<=0&&(e=1),$(".num").html(e)})}function getScroll(){return{left:document.body.scrollLeft||document.documentElement.scrollLeft,top:document.body.scrollTop||document.documentElement.scrollTop}}function showed(t,n){var i,s=[];function e(){for(var t=0;t<s.length;t++)s[t].alpha<=0?(n.body.removeChild(s[t].el),s.splice(t,1)):(s[t].y--,s[t].scale+=.004,s[t].alpha-=.013,s[t].el.style.cssText="left:"+s[t].x+"px;top:"+s[t].y+"px;opacity:"+s[t].alpha+";transform:scale("+s[t].scale+","+s[t].scale+") rotate(45deg);background:"+s[t].color);requestAnimationFrame(e)}t.requestAnimationFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},function(e){var o=n.createElement("style");o.type="text/css";try{o.appendChild(n.createTextNode(e))}catch(t){o.styleSheet.cssText=e}n.getElementsByTagName("head")[0].appendChild(o)}(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),i="function"==typeof t.onclick&&t.onclick,t.onclick=function(t){var e,o;i&&i(),e=t,(o=n.createElement("div")).className="heart",s.push({el:o,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"}),n.body.appendChild(o)},e()}mouse&&($(".imgs").attr("src",mouse.img),$(".imgb").attr("src",mouse.img),$(".cart_h2").html(mouse.username),$(".cart_money").html(mouse.onemoney)),nums(),$(".nnt2").click(function(){var t=$(".imgb").attr("src"),e=t.match(/s\/(\S*)\./)[1],o=$(".cart_h2").html(),n=$(".cart_money").html(),i=$(".num").html();$.ajax({url:"../php/cart.php",dataType:"json",data:{id:e,name:o,img:t,price:n,num:i},success:function(t){1==t.code?(alert("商品加入成功"),$(".num").html("1")):alert("商品加入失败")}})}),showed(window,document);